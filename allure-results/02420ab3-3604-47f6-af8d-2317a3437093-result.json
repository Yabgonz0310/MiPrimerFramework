{"uuid":"02420ab3-3604-47f6-af8d-2317a3437093","name":"Ingresar a la pagina para chatear con el bot","historyId":"8509b822473af1cf7a729d503a0f45cb:d41d8cd98f00b204e9800998ecf8427e","status":"broken","statusDetails":{"message":"Clickable element \"//div[@role=\"button\"]\" was not found by text|CSS|XPath","trace":"Error: Clickable element \"//div[@role=\"button\"]\" was not found by text|CSS|XPath\n    at new ElementNotFound (node_modules\\codeceptjs\\lib\\helper\\errors\\ElementNotFound.js:15:11)\n    at assertElementExists (node_modules\\codeceptjs\\lib\\helper\\Playwright.js:3695:11)\n    at Playwright.proceedClick (node_modules\\codeceptjs\\lib\\helper\\Playwright.js:3449:5)"},"stage":"finished","steps":[{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1746499773880,"name":"Given Realizo Mock al msj de bienvenida","stop":1746499773882},{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1746499773885,"name":"When Estoy en la pagina de inicio","stop":1746499773885},{"status":"broken","statusDetails":{"message":"Clickable element \"//div[@role=\"button\"]\" was not found by text|CSS|XPath","trace":"Error: Clickable element \"//div[@role=\"button\"]\" was not found by text|CSS|XPath\n    at new ElementNotFound (C:\\Users\\gonzagay\\Documents\\Automatización\\FrameworkYGL\\node_modules\\codeceptjs\\lib\\helper\\errors\\ElementNotFound.js:15:11)\n    at assertElementExists (C:\\Users\\gonzagay\\Documents\\Automatización\\FrameworkYGL\\node_modules\\codeceptjs\\lib\\helper\\Playwright.js:3695:11)\n    at Playwright.proceedClick (C:\\Users\\gonzagay\\Documents\\Automatización\\FrameworkYGL\\node_modules\\codeceptjs\\lib\\helper\\Playwright.js:3449:5)"},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1746499773888,"name":"And Selecciono el chat","stop":1746499773889},{"status":"broken","statusDetails":{"message":"Clickable element \"//div[@role=\"button\"]\" was not found by text|CSS|XPath","trace":"Error: Clickable element \"//div[@role=\"button\"]\" was not found by text|CSS|XPath\n    at new ElementNotFound (C:\\Users\\gonzagay\\Documents\\Automatización\\FrameworkYGL\\node_modules\\codeceptjs\\lib\\helper\\errors\\ElementNotFound.js:15:11)\n    at assertElementExists (C:\\Users\\gonzagay\\Documents\\Automatización\\FrameworkYGL\\node_modules\\codeceptjs\\lib\\helper\\Playwright.js:3695:11)\n    at Playwright.proceedClick (C:\\Users\\gonzagay\\Documents\\Automatización\\FrameworkYGL\\node_modules\\codeceptjs\\lib\\helper\\Playwright.js:3449:5)"},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1746499773890,"name":"Then Visualizo el cambio","stop":1746499773890},{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1746499773896,"name":"I mock route \"https://prod-live-chat.sprinklr.com/api/livechat/handshake/application/618bd3f05f4bd037d59aabb5_app_1066573\", async (route) => {\r\n            await route.fulfill ({\r\n                status: 200,\r\n                contentType: 'application/json',\r\n                body: JSON.stringify(\r\n                    {\r\n                        \"createdTime\": 1660029430068,\r\n                        \"deleted\": false,\r\n                        \"canEdit\": false,\r\n                        \"id\": \"app_1066573\",\r\n                        \"accountId\": 1066573,\r\n                        \"partnerId\": 485,\r\n                        \"name\": \"AT&T MX Ventas\",\r\n                        \"description\": \"AT&T MX Ventas Live Chat\",\r\n                        \"showBrandProfile\": false,\r\n                        \"botName\": \"Chat de HITSS México\",\r\n                        \"botProfileImgUrl\": \"https://sprcdn-assets.sprinklr.com/485/c9743d3b-5cd6-4db9-a813-7ba7a4ce9717-1576126871/pictogram_chatbot_blk_p.png\",\r\n                        \"allowedTags\": [\r\n                            \"target\"\r\n                        ],\r\n                        \"expireAfterDuration\": 96,\r\n                        \"expireAfterDurationUnit\": \"HOURS\",\r\n                        \"otherConfigs\": {\r\n                            \"settings\": {\r\n                                \"externalLocaleData\": {\r\n                                    \"es\": \"https://live-chat-static.sprinklr.com/externalLocaleData/603c1161745e1505c37c8cd5_app_819193/es.json\"\r\n                                },\r\n                                \"hour12\": true,\r\n                                \"analyticsSettings\": {\r\n                                    \"sprinklrAnalytics\": {\r\n                                        \"enabled\": true\r\n                                    }\r\n                                },\r\n                                \"maximumOpenConversations\": {\r\n                                    \"limit\": 1,\r\n                                    \"label\": \"Estimado cliente, hemos identificado una solicitud de atención anterior, le invitamos a continuar por el botón de conversación previo\"\r\n                                },\r\n                                \"delayInitializePoller\": true,\r\n                                \"enableSentry\": true\r\n                            },\r\n                            \"theme\": {\r\n                                \"colors\": {\r\n                                    \"primary\": \"#0057B8\"\r\n                                },\r\n                                \"styles\": {\r\n                                    \"chatConversation\": {\r\n                                        \"body\": {\r\n                                            \"backgroundColor\": \"#FFFFFF\"\r\n                                        }\r\n                                    },\r\n                                    \"trigger\": {\r\n                                        \"icon\": {\r\n                                            \"type\": \"cloud\"\r\n                                        },\r\n                                        \"closeIcon\": {},\r\n                                        \"align\": \"right\",\r\n                                        \"xPadding\": 20,\r\n                                        \"yPadding\": 20\r\n                                    }\r\n                                }\r\n                            },\r\n                            \"trigger\": {\r\n                                \"defaultHidden\": false,\r\n                                \"initiallyHidden\": false,\r\n                                \"label\": \"Chat\"\r\n                            },\r\n                            \"homeScreen\": {\r\n                                \"header\": {\r\n                                    \"logo\": \"https://sprcdn-assets.sprinklr.com/485/a8e97c89-abca-45eb-ba79-c4514baf5615-36052875/New_Globe_v3_p.png\",\r\n                                    \"title\": \"Chat de HITSS México\",\r\n                                    \"description\": \"AT&T México\"\r\n                                },\r\n                                \"conversationCard\": {\r\n                                    \"title\": \"<p style=\\\"margin: 0;\\\">Bienvenido al chat de HITSS México, por favor dinos tu nombre.</p>\",\r\n                                    \"button\": {\r\n                                        \"label\": \"Comenzar\"\r\n                                    },\r\n                                    \"agents\": {\r\n                                        \"shouldShow\": false,\r\n                                        \"images\": []\r\n                                    },\r\n                                    \"hideWavingHandIcon\": true\r\n                                }\r\n                            },\r\n                            \"conversationScreen\": {\r\n                                \"actionsToShowByVariant\": {},\r\n                                \"header\": {\r\n                                    \"title\": \"Chat de HITSS México\",\r\n                                    \"description\": \"AT&T México\"\r\n                                },\r\n                                \"inputPlaceholderMessage\": \"Escribe y envía tu mensaje aquí\",\r\n                                \"footer\": {\r\n                                    \"chatMessageComposer\": {}\r\n                                },\r\n                                \"shouldHidePersonaNames\": true\r\n                            },\r\n                            \"allScreens\": {\r\n                                \"shouldEnablePersonaNames\": true,\r\n                                \"shouldEnablePersonaAvatars\": true\r\n                            }\r\n                        },\r\n                        \"welcomeMessageConfig\": {\r\n                            \"defaultMessages\": [\r\n                                {\r\n                                    \"messageType\": 313,\r\n                                    \"text\": \"¡Hola! Por favor completa la siguiente información para atenderte mejor\",\r\n                                    \"textEntities\": [],\r\n                                    \"disableManualResponse\": false\r\n                                }\r\n                            ],\r\n                            \"welcomeMessages\": [\r\n                                {\r\n                                    \"filter\": {\r\n                                        \"filterType\": \"AND\",\r\n                                        \"userFilter\": false,\r\n                                        \"allValuesAllowed\": true,\r\n                                        \"lockedWithValues\": false,\r\n                                        \"hidden\": false,\r\n                                        \"favourite\": false,\r\n                                        \"mandatory\": false,\r\n                                        \"locked\": false,\r\n                                        \"ignoreAddingToDimensionFilter\": false,\r\n                                        \"details\": {},\r\n                                        \"filters\": [\r\n                                            {\r\n                                                \"filterType\": \"IN\",\r\n                                                \"field\": \"SPRINKLR_LIVE_CHAT_LOGGED_IN\",\r\n                                                \"values\": [\r\n                                                    true\r\n                                                ],\r\n                                                \"userFilter\": false,\r\n                                                \"allValuesAllowed\": true,\r\n                                                \"lockedWithValues\": false,\r\n                                                \"hidden\": false,\r\n                                                \"favourite\": false,\r\n                                                \"mandatory\": false,\r\n                                                \"locked\": false,\r\n                                                \"ignoreAddingToDimensionFilter\": false,\r\n                                                \"details\": {\r\n                                                    \"valueAdditional\": {}\r\n                                                }\r\n                                            }\r\n                                        ]\r\n                                    },\r\n                                    \"messages\": [\r\n                                        {\r\n                                            \"messageType\": 313,\r\n                                            \"text\": \"Bienvenido a AT&T México, %%[toprofile_FULL_NAME:FullName]!\",\r\n                                            \"textEntities\": [],\r\n                                            \"disableManualResponse\": false\r\n                                        },\r\n                                        {\r\n                                            \"messageType\": 313,\r\n                                            \"attachment\": {\r\n                                                \"type\": \"SAM\",\r\n                                                \"subType\": 3031,\r\n                                                \"assetId\": \"6250aa1e95f32d339332212a\"\r\n                                            },\r\n                                            \"disableManualResponse\": false\r\n                                        }\r\n                                    ]\r\n                                },\r\n                                {\r\n                                    \"filter\": {\r\n                                        \"filterType\": \"IN\",\r\n                                        \"field\": \"SPRINKLR_LIVE_CHAT_LOGGED_IN\",\r\n                                        \"values\": [\r\n                                            false\r\n                                        ],\r\n                                        \"userFilter\": false,\r\n                                        \"allValuesAllowed\": true,\r\n                                        \"lockedWithValues\": false,\r\n                                        \"hidden\": false,\r\n                                        \"favourite\": false,\r\n                                        \"mandatory\": false,\r\n                                        \"locked\": false,\r\n                                        \"ignoreAddingToDimensionFilter\": false,\r\n                                        \"details\": {}\r\n                                    },\r\n                                    \"messages\": [\r\n                                        {\r\n                                            \"messageType\": 313,\r\n                                            \"text\": \"¡Hola! Por favor completa la siguiente información para atenderte mejor\",\r\n                                            \"textEntities\": [],\r\n                                            \"disableManualResponse\": false\r\n                                        },\r\n                                        {\r\n                                            \"messageType\": 313,\r\n                                            \"attachment\": {\r\n                                                \"type\": \"CONTACT_DETAILS_FORM\",\r\n                                                \"subType\": 2029,\r\n                                                \"otherConfigs\": {\r\n                                                    \"postSubmitHideImage\": false\r\n                                                },\r\n                                                \"templateType\": true,\r\n                                                \"disableManualResponse\": true,\r\n                                                \"hideAttachment\": false,\r\n                                                \"expired\": false,\r\n                                                \"submitted\": false,\r\n                                                \"reSubmittable\": false,\r\n                                                \"postSubmitTitle\": \"Gracias\",\r\n                                                \"showSubmittedContent\": false,\r\n                                                \"showContentPostSubmit\": false,\r\n                                                \"isReCaptchaEnabled\": false,\r\n                                                \"reCaptchaValidated\": false,\r\n                                                \"title\": \"<p style=\\\"margin: 0;\\\">Datos de Cliente</p>\",\r\n                                                \"form\": {\r\n                                                    \"formId\": \"9acce563-5ef1-4801-ba41-bd5f7d8d9a78\",\r\n                                                    \"fields\": [\r\n                                                        {\r\n                                                            \"deleted\": false,\r\n                                                            \"permissionTypes\": [],\r\n                                                            \"canEdit\": false,\r\n                                                            \"id\": \"NAME\",\r\n                                                            \"fieldName\": \"NAME\",\r\n                                                            \"type\": \"TEXT\",\r\n                                                            \"parentChild\": false,\r\n                                                            \"standardAttribute\": false,\r\n                                                            \"multivalued\": false,\r\n                                                            \"constraints\": [],\r\n                                                            \"auditable\": true,\r\n                                                            \"searchable\": false,\r\n                                                            \"sortable\": false,\r\n                                                            \"reportable\": false,\r\n                                                            \"reorderable\": false,\r\n                                                            \"groupable\": false,\r\n                                                            \"cardinality\": false,\r\n                                                            \"asDashboardFilter\": false,\r\n                                                            \"cloneable\": true,\r\n                                                            \"mask\": false,\r\n                                                            \"mandatory\": true,\r\n                                                            \"hasSubFields\": false,\r\n                                                            \"inlcudeInAudit\": true,\r\n                                                            \"resolvedDataType\": \"TEXT\",\r\n                                                            \"dispositionGlobalField\": false,\r\n                                                            \"entityMetadataField\": false,\r\n                                                            \"dispositionGlobalModifiedField\": false,\r\n                                                            \"modifiedTimeMillis\": 0,\r\n                                                            \"searchAssetId\": \"NAME\",\r\n                                                            \"partnerCustomProperties\": {},\r\n                                                            \"name\": \"<p style=\\\"margin: 0;\\\">Nombre</p>\"\r\n                                                        },\r\n                                                        {\r\n                                                            \"deleted\": false,\r\n                                                            \"permissionTypes\": [],\r\n                                                            \"canEdit\": false,\r\n                                                            \"id\": \"PHONE_NO\",\r\n                                                            \"fieldName\": \"PHONE_NO\",\r\n                                                            \"type\": \"PHONE\",\r\n                                                            \"parentChild\": false,\r\n                                                            \"standardAttribute\": false,\r\n                                                            \"multivalued\": false,\r\n                                                            \"constraints\": [],\r\n                                                            \"auditable\": true,\r\n                                                            \"searchable\": false,\r\n                                                            \"sortable\": false,\r\n                                                            \"reportable\": false,\r\n                                                            \"reorderable\": false,\r\n                                                            \"groupable\": false,\r\n                                                            \"cardinality\": false,\r\n                                                            \"asDashboardFilter\": false,\r\n                                                            \"cloneable\": true,\r\n                                                            \"mask\": false,\r\n                                                            \"mandatory\": true,\r\n                                                            \"hasSubFields\": false,\r\n                                                            \"inlcudeInAudit\": true,\r\n                                                            \"resolvedDataType\": \"PHONE\",\r\n                                                            \"dispositionGlobalField\": false,\r\n                                                            \"entityMetadataField\": false,\r\n                                                            \"dispositionGlobalModifiedField\": false,\r\n                                                            \"modifiedTimeMillis\": 0,\r\n                                                            \"searchAssetId\": \"PHONE_NO\",\r\n                                                            \"partnerCustomProperties\": {},\r\n                                                            \"name\": \"<p style=\\\"margin: 0;\\\">Número de contacto (10 digitos)</p>\"\r\n                                                        },\r\n                                                        {\r\n                                                            \"deleted\": false,\r\n                                                            \"permissionTypes\": [],\r\n                                                            \"canEdit\": false,\r\n                                                            \"id\": \"628728e4-8c36-448b-a96f-80f431b8dbb2\",\r\n                                                            \"fieldName\": \"628728e4-8c36-448b-a96f-80f431b8dbb2\",\r\n                                                            \"type\": \"CHECKBOX\",\r\n                                                            \"parentChild\": false,\r\n                                                            \"standardAttribute\": false,\r\n                                                            \"multivalued\": false,\r\n                                                            \"constraints\": [],\r\n                                                            \"auditable\": true,\r\n                                                            \"searchable\": false,\r\n                                                            \"sortable\": false,\r\n                                                            \"reportable\": false,\r\n                                                            \"reorderable\": false,\r\n                                                            \"groupable\": false,\r\n                                                            \"cardinality\": false,\r\n                                                            \"asDashboardFilter\": false,\r\n                                                            \"cloneable\": true,\r\n                                                            \"mask\": false,\r\n                                                            \"mandatory\": true,\r\n                                                            \"hasSubFields\": false,\r\n                                                            \"inlcudeInAudit\": true,\r\n                                                            \"resolvedDataType\": \"CHECKBOX\",\r\n                                                            \"dispositionGlobalField\": false,\r\n                                                            \"entityMetadataField\": false,\r\n                                                            \"dispositionGlobalModifiedField\": false,\r\n                                                            \"modifiedTimeMillis\": 0,\r\n                                                            \"searchAssetId\": \"628728e4-8c36-448b-a96f-80f431b8dbb2\",\r\n                                                            \"partnerCustomProperties\": {},\r\n                                                            \"name\": \"<p style=\\\"margin: 0;\\\">Acepto <a title=\\\"Aviso de Privacidad\\\" href=\\\"https://www.att.com.mx/legales/aviso-de-privacidad.html\\\" target=\\\"_blank\\\" rel=\\\"noopener\\\">Aviso de Privacidad</a></p>\"\r\n                                                        }\r\n                                                    ]\r\n                                                },\r\n                                                \"submit\": {\r\n                                                    \"id\": \"a87969aa-1cda-4146-b8bf-b8270220d4f5\",\r\n                                                    \"type\": \"POST_BACK\",\r\n                                                    \"title\": \"Enviar\",\r\n                                                    \"makeExternalCall\": false,\r\n                                                    \"postBackHandlerType\": \"CONTACT_DETAILS_POST_BACK\"\r\n                                                },\r\n                                                \"postSubmit\": {\r\n                                                    \"id\": \"7c9b9f6a-ee8b-4d94-abfe-4cc7d7270b1a\",\r\n                                                    \"type\": \"POST_BACK\",\r\n                                                    \"makeExternalCall\": false,\r\n                                                    \"postBackHandlerType\": \"CONTACT_DETAILS_POST_BACK\"\r\n                                                },\r\n                                                \"fieldMappings\": [\r\n                                                    {\r\n                                                        \"targetField\": \"PROFILE._c_6033db23266beb19504c46b3\",\r\n                                                        \"sourceField\": \"NAME\",\r\n                                                        \"op\": \"SET\"\r\n                                                    },\r\n                                                    {\r\n                                                        \"targetField\": \"PROFILE.5d289a94e4b05b407a4fbda8\",\r\n                                                        \"sourceField\": \"PHONE_NO\",\r\n                                                        \"op\": \"SET\"\r\n                                                    },\r\n                                                    {\r\n                                                        \"targetField\": \"PROFILE._c_6258378cc387253fe3f24fec\",\r\n                                                        \"sourceField\": \"628728e4-8c36-448b-a96f-80f431b8dbb2\",\r\n                                                        \"op\": \"SET\"\r\n                                                    }\r\n                                                ]\r\n                                            },\r\n                                            \"disableManualResponse\": false\r\n                                        }\r\n                                    ]\r\n                                }\r\n                            ]\r\n                        },\r\n                        \"convDisclaimerConfig\": {},\r\n                        \"maxAttachmentCount\": 1,\r\n                        \"supportedLocales\": [\r\n                            \"es\"\r\n                        ],\r\n                        \"defaultLocale\": \"es\",\r\n                        \"hasPrompts\": false,\r\n                        \"callConfiguration\": {\r\n                            \"disableRecording\": false,\r\n                            \"onlyAudioRecording\": false,\r\n                            \"videoChatEnabled\": false\r\n                        },\r\n                        \"versionId\": 0,\r\n                        \"sendWelcomeMessageOnEmptyChat\": false,\r\n                        \"configFilters\": [],\r\n                        \"chatUrl\": \"https://prod-live-chat.sprinklr.com\",\r\n                        \"maximumContentLength\": 15728640,\r\n                        \"uploadPolicy\": \"SPR\",\r\n                        \"cspDomains\": [],\r\n                        \"recordingDisabled\": false,\r\n                        \"transcriptionEnabled\": false,\r\n                        \"versionableAssetType\": \"CHAT_APPLICATION\",\r\n                        \"onlyAudioRecordingEnabled\": false,\r\n                        \"modifiedTimeMillis\": 0,\r\n                        \"searchAssetId\": \"app_1066573\",\r\n                        \"partnerCustomProperties\": {}\r\n                    }\r\n                )\r\n            })\r\n        }","stop":1746499773899},{"status":"passed","statusDetails":{},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1746499773900,"name":"I am on page \"https://www.att.com.mx/\"","stop":1746499786937},{"status":"broken","statusDetails":{"message":"Clickable element \"//div[@role=\"button\"]\" was not found by text|CSS|XPath","trace":"Error: Clickable element \"//div[@role=\"button\"]\" was not found by text|CSS|XPath\n    at new ElementNotFound (C:\\Users\\gonzagay\\Documents\\Automatización\\FrameworkYGL\\node_modules\\codeceptjs\\lib\\helper\\errors\\ElementNotFound.js:15:11)\n    at assertElementExists (C:\\Users\\gonzagay\\Documents\\Automatización\\FrameworkYGL\\node_modules\\codeceptjs\\lib\\helper\\Playwright.js:3695:11)\n    at Playwright.proceedClick (C:\\Users\\gonzagay\\Documents\\Automatización\\FrameworkYGL\\node_modules\\codeceptjs\\lib\\helper\\Playwright.js:3449:5)"},"stage":"finished","steps":[],"attachments":[],"parameters":[],"start":1746499786937,"name":"I click \"//div[@role=\"button\"]\"","stop":1746499786943},{"statusDetails":{},"stage":"pending","steps":[{"name":"Main session - Last Seen Screenshot","attachments":[{"name":"Main session - Last Seen Screenshot","source":"e251c46c-54d6-4e14-a332-5bfc0ee927db-attachment.png","type":"image/png"}],"start":1746499787075,"stop":1746499787075}],"attachments":[],"parameters":[],"start":1746499786948,"name":"I wait 5"}],"attachments":[],"parameters":[],"labels":[{"name":"language","value":"javascript"},{"name":"framework","value":"codeceptjs"},{"name":"host","value":"HDFGONZAGAY"},{"name":"thread","value":"pid-16700-worker-main"},{"name":"package","value":"features.att.feature"},{"name":"parentSuite","value":"Crear un Mock al chatbot"}],"links":[],"start":1746499772441,"fullName":"features/att.feature: Crear un Mock al chatbot > Ingresar a la pagina para chatear con el bot","testCaseId":"8509b822473af1cf7a729d503a0f45cb","stop":1746499787079}